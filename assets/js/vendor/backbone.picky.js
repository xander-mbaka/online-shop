Backbone.Picky=function(e,t){var s={};s.SingleSelect=function(e){this.collection=e},t.extend(s.SingleSelect.prototype,{select:function(e){e&&this.selected===e||(this.deselect(),this.selected=e,this.selected.select(),this.trigger("selected",e))},deselect:function(e){this.selected&&(e=e||this.selected,this.selected===e&&(this.selected.deselect(),this.trigger("deselected",this.selected),delete this.selected))}}),s.MultiSelect=function(e){this.collection=e,this.selected={}},t.extend(s.MultiSelect.prototype,{select:function(e){this.selected[e.cid]||(this.selected[e.cid]=e,e.select(),c(this))},deselect:function(e){this.selected[e.cid]&&(delete this.selected[e.cid],e.deselect(),c(this))},selectAll:function(){this.each(function(e){e.select()}),c(this)},selectNone:function(){0!==this.selectedLength&&(this.each(function(e){e.deselect()}),c(this))},toggleSelectAll:function(){this.selectedLength===this.length?this.selectNone():this.selectAll()}}),s.Selectable=function(e){this.model=e},t.extend(s.Selectable.prototype,{select:function(){this.selected||(this.selected=!0,this.trigger("selected"),this.collection&&this.collection.select(this))},deselect:function(){this.selected&&(this.selected=!1,this.trigger("deselected"),this.collection&&this.collection.deselect(this))},toggleSelected:function(){this.selected?this.deselect():this.select()}});var c=function(e){e.selectedLength=t.size(e.selected);var s=e.selectedLength,c=e.length;return s===c?(e.trigger("select:all",e),void 0):0===s?(e.trigger("select:none",e),void 0):s>0&&c>s?(e.trigger("select:some",e),void 0):void 0};return s}(Backbone,_);